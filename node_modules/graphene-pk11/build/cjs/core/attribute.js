"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.attribute = void 0;
const template_1 = require("../template");
function attribute(name, defaultValue) {
    return (target, propertyKey) => {
        (0, template_1.getAttribute)(name);
        const descriptor = Object.getOwnPropertyDescriptor(target, propertyKey) || {};
        descriptor.get = function () {
            if (defaultValue !== undefined) {
                try {
                    return this.get(name);
                }
                catch (_a) {
                    return defaultValue;
                }
            }
            return this.get(name);
        };
        descriptor.set = function (value) {
            this.set(name, value);
        };
        Object.defineProperty(target, propertyKey, descriptor);
    };
}
exports.attribute = attribute;
